<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Dirk Eddelbuettel" />
  <title>Minimal Set of binnmu Packages</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <style type="text/css">
body {
max-width: 50rem;
margin-left: auto;
margin-right: auto;
font-family: system-ui;
}

code {
padding: 2px;
border-radius: unset;
}

pre {
background-color: unset;
border: solid #aaa 1px;
padding: 8px;
}
pre.numberSource {
margin: 0;
padding-left: 0;
}
div.sourceCode {
overflow: visible;
}
pre, pre.sourceCode {
overflow-x: auto;
}
pre>code {
white-space: pre;
overflow: visible;
background-color: unset;
padding: 0;
}
pre.sourceCode.numberSource {
overflow-x: visible;
}
pre.sourceCode.numberSource>code {
white-space: pre-wrap
}
pre.sourceCode.numberSource>code>span {
left: 8px;
text-indent: -4.6em;
}

.chunk-summary {
text-align: right;
}
.chunk-summary+pre,
.chunk-summary+div.sourceCode {
margin-top: 2px;
}

nav > ul {
border: .0625rem solid #444;
border-radius: 4px;
margin: 5px;
padding: 5px;
}
nav ul {
list-style-type: none;
padding-inline-start: 1rem;
}
nav ul li {
padding: 0;
}
nav ul ul {
margin-top: 0;
margin-bottom: 0;
padding-top: 0;
padding-bottom: 0;
}
nav code {
background-color: unset;
color: unset;
}
</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Minimal Set of binnmu Packages</h1>
<p class="subtitle">Combining the R and Debian package systems</p>
<p class="author">Dirk Eddelbuettel</p>
<p class="date">First version 2017-Jul-16; this version 2017-Aug-05</p>
</header>
<!--
%\VignetteIndexEntry{Minimal Set of binnmu Packages}
%\VignetteEngine{simplermarkdown::mdweave_to_html}
%\VignetteEncoding{UTF-8}
-->
<h2 id="step-0-problem-definition">Step 0: Problem Definition</h2>
<h3 id="upstream-change">Upstream Change</h3>
<p>R 3.4.0, released in April, included the following paragraph in its NEWS file:</p>
<ul>
<li>Packages which register native routines for .C or .Fortran need to be re-installed for this version (unless installed with R-devel SVN revision r72375 or later).</li>
</ul>
<p>This transition has no fallback behavior (as is more common with R changes) and requires a rebuild. Packages build under older R version still <em>load</em> and function partially, but will be unable to access any native (<em>i.e.</em>, compiled) routines.</p>
<h3 id="impact">Impact</h3>
<p>For the Debian packages, this means that we need to consider the set of packages which</p>
<ul>
<li>match <code>r-cran-*</code>, <code>r-bioc-*</code> and alike</li>
<li>contain compiled code (as R-only packages have no native routines)</li>
<li>use at least one <code>.C()</code> or <code>.Fortran()</code> (but <em>not</em> <code>.Call()</code>) call</li>
<li>use (the hitherto optional) routine registration (so that the change in behaviour is noticible)</li>
<li>have <em>not yet</em> been recompiled with R 3.4.0 or R 3.4.1</li>
</ul>
<p>This note computes this set and provides the input for a <a href="https://release.debian.org/wanna-build.txt">wanna-build</a> request.</p>
<p>This version is updated version which reflects the fourth point above which was pointed out to me by Kurt Hornik after I shared the initial version with him. The point he raised (“does it use <code>R_registerRoutines</code> ?”) is important and further reduces the effective set.</p>
<h2 id="step-1-reverse-dependencies-of-r">Step 1: Reverse Dependencies of R</h2>
<h3 id="fresh-debian-unstable-session">Fresh Debian unstable session</h3>
<p>For this we drop into a clean Docker container running Debian unstable. Later, we will need the current sources of the <a href="https://github.com/eddelbuettel/rcppapt"><code>RcppAPT</code></a> package so we start from a local git directory:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">server</span><span class="op">&gt;</span> cd ~/git <span class="kw">&amp;&amp;</span> <span class="ex">docker</span> run <span class="at">--rm</span> <span class="at">-ti</span> <span class="at">-v</span> <span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span>:/mnt debian:unstable</span></code></pre></div>
<h3 id="update-debian">Update Debian</h3>
<p>Inside the Docker container, we update the package information and install what is needed to build <a href="https://github.com/eddelbuettel/rcppapt"><code>RcppAPT</code></a> for R. This includes Rcpp and <code>libapt-pkg-dev</code>. We also install the data.table package used for aggregating the (R and Debian) package data computed below.</p>
<p>This step takes a short moment, with the exact time dependent on the network connection and other factors.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span><span class="op">&gt;</span> apt-get update</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span><span class="op">&gt;</span> apt-get <span class="at">-y</span> dist-upgrade</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span><span class="op">&gt;</span> apt-get <span class="at">-y</span> install r-cran-rcpp r-cran-data.table libapt-pkg-dev less</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span><span class="op">&gt;</span> cd /mnt</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span><span class="op">&gt;</span> R CMD INSTALL rcppapt/       <span class="co"># assuming we&#39;re above rcppapt</span></span></code></pre></div>
<h3 id="launch-r">Launch R</h3>
<h4 id="all-candidates">All Candidates</h4>
<p>Inside the same Docker session, we now launch R and run (almost all of) the remainder from R.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">library</span>(RcppAPT)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">library</span>(data.table)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> rd <span class="ot">&lt;-</span> <span class="fu">reverseDepends</span>(<span class="st">&quot;r-base-core&quot;</span>)         <span class="co"># 516 x 2</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> rd <span class="ot">&lt;-</span> rd[<span class="fu">grepl</span>(<span class="st">&quot;^r-&quot;</span>, rd[,<span class="dv">1</span>]), ]            <span class="co"># 489 x 2</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> rd <span class="ot">&lt;-</span> rd[<span class="fu">order</span>(rd[,<span class="dv">2</span>]), ]</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">setDT</span>(rd)</span></code></pre></div>
<p>We use <code>RcppAPT</code> to compute the reverse depends of the main R package providing the R engine: <code>r-base-core</code>. Among those (currently) 516 packages are both other packages from the upstream source (<code>r-base*</code>, <code>r-doc*</code>) which we exclude first as well as other, non-R-package dependencies (such as <code>rpy2</code>) which we also exclude.</p>
<p>This leaves 489 candidate packages out of the initial 514. The version field tells which r-base-core version was used to build the package—information we need per the setup described above.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> rd</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> rd</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>             package version</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span><span class="sc">:</span>       r<span class="sc">-</span>doc<span class="sc">-</span>pdf</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span><span class="sc">:</span>      r<span class="sc">-</span>doc<span class="sc">-</span>info</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="dv">3</span><span class="sc">:</span>      r<span class="sc">-</span>doc<span class="sc">-</span>html</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="dv">4</span><span class="sc">:</span>     r<span class="sc">-</span>base<span class="sc">-</span>html</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="dv">5</span><span class="sc">:</span>     r<span class="sc">-</span>other<span class="sc">-</span>rot</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a> <span class="sc">---</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="dv">485</span><span class="sc">:</span> r<span class="sc">-</span>base<span class="sc">-</span>core<span class="sc">-</span>dbg <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="dv">486</span><span class="sc">:</span>          r<span class="sc">-</span>base <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="dv">487</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>mgcv <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="dv">488</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>boot <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="dv">489</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>car <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>Next we need to filter out two versions with unsortable (<em>i.e.</em>,non-semantic) version numbers, and apply a logical filter depending on whether the package was built with R version 3.3.3 or earlier, indicating a possibe required rebuild.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> rd[ version<span class="sc">==</span><span class="st">&quot;3.0.0~20130330-1&quot;</span>, version <span class="sc">:</span><span class="er">=</span> <span class="st">&quot;3.0.0.20130330-1&quot;</span>]</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> rd[ version<span class="sc">==</span><span class="st">&quot;3.2.4-revised-1&quot;</span>, version <span class="sc">:</span><span class="er">=</span> <span class="st">&quot;3.2.4.1-1&quot;</span>]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> rd[version<span class="sc">!=</span><span class="st">&quot;&quot;</span>, oldVersion <span class="sc">:</span><span class="er">=</span> version  <span class="sc">&lt;=</span>  <span class="fu">package_version</span>(<span class="st">&quot;3.3.3-1&quot;</span>)]</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> rd[ <span class="fu">is.na</span>(oldVersion), oldVersion <span class="sc">:</span><span class="er">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> rd[ <span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;r-(doc|base)&quot;</span>, package), ]</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>             package          version oldVersion</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span><span class="sc">:</span>     r<span class="sc">-</span>other<span class="sc">-</span>rot                       <span class="cn">FALSE</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span><span class="sc">:</span> r<span class="sc">-</span>cran<span class="sc">-</span>epitools          <span class="dv">3</span>.<span class="fl">0.0</span><span class="dv">-2</span>       <span class="cn">TRUE</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="dv">3</span><span class="sc">:</span> r<span class="sc">-</span>cran<span class="sc">-</span>combinat          <span class="dv">3</span>.<span class="fl">0.0</span><span class="dv">-2</span>       <span class="cn">TRUE</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="dv">4</span><span class="sc">:</span>    r<span class="sc">-</span>cran<span class="sc">-</span>gmaps <span class="dv">3</span>.<span class="dv">0</span>.<span class="fl">0.20130330</span><span class="dv">-1</span>       <span class="cn">TRUE</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="dv">5</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>wdi          <span class="dv">3</span>.<span class="fl">0.1</span><span class="dv">-6</span>       <span class="cn">TRUE</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a> <span class="sc">---</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="dv">478</span><span class="sc">:</span>   r<span class="sc">-</span>recommended          <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="dv">479</span><span class="sc">:</span>       r<span class="sc">-</span>mathlib          <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="dv">480</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>mgcv          <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="dv">481</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>boot          <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="dv">482</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>car          <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span></span></code></pre></div>
<p>To cover some corner case, we derive a <code>skip</code> field:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> rd[ version<span class="sc">==</span><span class="st">&quot;&quot;</span>, skip<span class="sc">:</span><span class="er">=</span><span class="cn">TRUE</span> ]</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> rd[ <span class="fu">is.na</span>(skip), skip<span class="sc">:</span><span class="er">=</span><span class="cn">FALSE</span>]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> rd[ skip<span class="sc">==</span><span class="cn">FALSE</span>, ]</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>             package          version oldVersion  skip</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span><span class="sc">:</span> r<span class="sc">-</span>cran<span class="sc">-</span>epitools          <span class="dv">3</span>.<span class="fl">0.0</span><span class="dv">-2</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span><span class="sc">:</span> r<span class="sc">-</span>cran<span class="sc">-</span>combinat          <span class="dv">3</span>.<span class="fl">0.0</span><span class="dv">-2</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="dv">3</span><span class="sc">:</span>    r<span class="sc">-</span>cran<span class="sc">-</span>gmaps <span class="dv">3</span>.<span class="dv">0</span>.<span class="fl">0.20130330</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="dv">4</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>wdi          <span class="dv">3</span>.<span class="fl">0.1</span><span class="dv">-6</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="dv">5</span><span class="sc">:</span>   r<span class="sc">-</span>cran<span class="sc">-</span>bitops          <span class="dv">3</span>.<span class="fl">0.1</span><span class="dv">-6</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a> <span class="sc">---</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="dv">480</span><span class="sc">:</span> r<span class="sc">-</span>base<span class="sc">-</span>core<span class="sc">-</span>dbg          <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="dv">481</span><span class="sc">:</span>          r<span class="sc">-</span>base          <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="dv">482</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>mgcv          <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="dv">483</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>boot          <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="dv">484</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>car          <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<h4 id="compiled-packages">Compiled Packages</h4>
<p>Next, we find the actual dependencies of each of these packages by constructing a large regular expression which we feed into <code>RcppAPT::getDepends()</code></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> regexp <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">paste0</span>(<span class="st">&quot;^&quot;</span>, rd[skip<span class="sc">==</span><span class="cn">FALSE</span>, package], <span class="st">&quot;$&quot;</span>), <span class="at">collapse=</span><span class="st">&quot;|&quot;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> dep <span class="ot">&lt;-</span> <span class="fu">getDepends</span>(regexp)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">setDT</span>(dep)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> dep</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                  srcpkg              deppkg cmpop          version</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>   <span class="dv">1</span><span class="sc">:</span>  r<span class="sc">-</span>bioc<span class="sc">-</span>hypergraph         r<span class="sc">-</span>base<span class="sc">-</span>core     <span class="dv">2</span> <span class="dv">3</span>.<span class="dv">3</span>.<span class="fl">1.20161024</span><span class="dv">-1</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>   <span class="dv">2</span><span class="sc">:</span>  r<span class="sc">-</span>bioc<span class="sc">-</span>hypergraph             r<span class="sc">-</span>api<span class="dv">-3</span>     <span class="dv">0</span>           (null)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>   <span class="dv">3</span><span class="sc">:</span>  r<span class="sc">-</span>bioc<span class="sc">-</span>hypergraph        r<span class="sc">-</span>bioc<span class="sc">-</span>graph     <span class="dv">0</span>           (null)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>   <span class="dv">4</span><span class="sc">:</span>  r<span class="sc">-</span>bioc<span class="sc">-</span>hypergraph r<span class="sc">-</span>bioc<span class="sc">-</span>biocgenerics     <span class="dv">0</span>           (null)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>   <span class="dv">5</span><span class="sc">:</span>  r<span class="sc">-</span>bioc<span class="sc">-</span>hypergraph        r<span class="sc">-</span>cran<span class="sc">-</span>runit     <span class="dv">0</span>           (null)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="sc">---</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="dv">3744</span><span class="sc">:</span> r<span class="sc">-</span>cran<span class="sc">-</span>viridislite             r<span class="sc">-</span>api<span class="dv">-3</span>     <span class="dv">0</span>           (null)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="dv">3745</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>xtable         r<span class="sc">-</span>base<span class="sc">-</span>core     <span class="dv">2</span>          <span class="dv">3</span>.<span class="fl">2.5</span><span class="dv">-1</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="dv">3746</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>xtable             r<span class="sc">-</span>api<span class="dv">-3</span>     <span class="dv">0</span>           (null)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="dv">3747</span><span class="sc">:</span>   r<span class="sc">-</span>cran<span class="sc">-</span>pkgkitten         r<span class="sc">-</span>base<span class="sc">-</span>core     <span class="dv">2</span>          <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="dv">3748</span><span class="sc">:</span>   r<span class="sc">-</span>cran<span class="sc">-</span>pkgkitten             r<span class="sc">-</span>api<span class="dv">-3</span>     <span class="dv">0</span>           (null)</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>Next we subset to those have <code>libc6</code> as a Depends, meaning they are compiled packages. This excludes all the R packages having only R code.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> comp <span class="ot">&lt;-</span> dep[deppkg<span class="sc">==</span><span class="st">&quot;libc6&quot;</span>]   <span class="co"># 242</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> comp</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                 srcpkg deppkg cmpop version isCompiled</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span><span class="sc">:</span>  r<span class="sc">-</span>bioc<span class="sc">-</span>makecdfenv  libc6     <span class="dv">2</span>     <span class="fl">2.4</span>       <span class="cn">TRUE</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span><span class="sc">:</span>       r<span class="sc">-</span>cran<span class="sc">-</span>bio3d  libc6     <span class="dv">2</span>    <span class="fl">2.14</span>       <span class="cn">TRUE</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="dv">3</span><span class="sc">:</span>   r<span class="sc">-</span>bioc<span class="sc">-</span>rsamtools  libc6     <span class="dv">2</span>    <span class="fl">2.15</span>       <span class="cn">TRUE</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="dv">4</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>foreign  libc6     <span class="dv">2</span>    <span class="fl">2.14</span>       <span class="cn">TRUE</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="dv">5</span><span class="sc">:</span>    r<span class="sc">-</span>bioc<span class="sc">-</span>multtest  libc6     <span class="dv">2</span>    <span class="fl">2.14</span>       <span class="cn">TRUE</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a> <span class="sc">---</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="dv">238</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>nleqslv  libc6     <span class="dv">2</span>     <span class="fl">2.4</span>       <span class="cn">TRUE</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="dv">239</span><span class="sc">:</span> r<span class="sc">-</span>other<span class="sc">-</span>amsmercury  libc6     <span class="dv">2</span>    <span class="fl">2.14</span>       <span class="cn">TRUE</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="dv">240</span><span class="sc">:</span>         r<span class="sc">-</span>cran<span class="sc">-</span>gnm  libc6     <span class="dv">2</span>     <span class="fl">2.4</span>       <span class="cn">TRUE</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="dv">241</span><span class="sc">:</span>         r<span class="sc">-</span>cran<span class="sc">-</span>gsl  libc6     <span class="dv">2</span>     <span class="fl">2.4</span>       <span class="cn">TRUE</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="dv">242</span><span class="sc">:</span>         r<span class="sc">-</span>cran<span class="sc">-</span>gss  libc6     <span class="dv">2</span>     <span class="fl">2.4</span>       <span class="cn">TRUE</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>We are now getting closer. We set keys on the <code>data.table</code> objects, and then do an inner join:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">setkey</span>(comp, srcpkg)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">setkey</span>(rd, package)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> all <span class="ot">&lt;-</span> rd[comp[, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>)]]   <span class="co"># inner join (by default on columns with keys)</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> all[<span class="fu">order</span>(version),]</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                      package version oldVersion  skip isCompiled</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span><span class="sc">:</span>            r<span class="sc">-</span>cran<span class="sc">-</span>bitops <span class="dv">3</span>.<span class="fl">0.1</span><span class="dv">-6</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span><span class="sc">:</span>               r<span class="sc">-</span>cran<span class="sc">-</span>mnp <span class="dv">3</span>.<span class="fl">0.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="dv">3</span><span class="sc">:</span> r<span class="sc">-</span>other<span class="sc">-</span>mott<span class="sc">-</span>happy.hbrem <span class="dv">3</span>.<span class="fl">0.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="dv">4</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>amore <span class="dv">3</span>.<span class="fl">1.0</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="dv">5</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>deal <span class="dv">3</span>.<span class="fl">1.0</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a> <span class="sc">---</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="dv">238</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>rcpp <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="dv">239</span><span class="sc">:</span>            r<span class="sc">-</span>cran<span class="sc">-</span>rmysql <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="dv">240</span><span class="sc">:</span>         r<span class="sc">-</span>cran<span class="sc">-</span>rsymphony <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="dv">241</span><span class="sc">:</span>               r<span class="sc">-</span>cran<span class="sc">-</span>ttr <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="dv">242</span><span class="sc">:</span>                r<span class="sc">-</span>mathlib <span class="dv">3</span>.<span class="fl">4.1</span><span class="dv">-2</span>      <span class="cn">FALSE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>We have 242 <em>potential</em> rebuilds, down from 514 reverse depends at the outset.</p>
<h4 id="version-check">Version check</h4>
<p>Next, we can concentrate on those having been built with the older versions requiring a rebuild:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> all[oldVersion<span class="sc">==</span><span class="cn">TRUE</span>,][<span class="fu">order</span>(version),]    <span class="co"># 167</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                      package version oldVersion  skip isCompiled</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span><span class="sc">:</span>            r<span class="sc">-</span>cran<span class="sc">-</span>bitops <span class="dv">3</span>.<span class="fl">0.1</span><span class="dv">-6</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span><span class="sc">:</span>               r<span class="sc">-</span>cran<span class="sc">-</span>mnp <span class="dv">3</span>.<span class="fl">0.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="dv">3</span><span class="sc">:</span> r<span class="sc">-</span>other<span class="sc">-</span>mott<span class="sc">-</span>happy.hbrem <span class="dv">3</span>.<span class="fl">0.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="dv">4</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>amore <span class="dv">3</span>.<span class="fl">1.0</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="dv">5</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>deal <span class="dv">3</span>.<span class="fl">1.0</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a> <span class="sc">---</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="dv">163</span><span class="sc">:</span>           r<span class="sc">-</span>cran<span class="sc">-</span>rcppgsl <span class="dv">3</span>.<span class="fl">3.3</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="dv">164</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>rodbc <span class="dv">3</span>.<span class="fl">3.3</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="dv">165</span><span class="sc">:</span>         r<span class="sc">-</span>cran<span class="sc">-</span>snowballc <span class="dv">3</span>.<span class="fl">3.3</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="dv">166</span><span class="sc">:</span>                r<span class="sc">-</span>cran<span class="sc">-</span>v8 <span class="dv">3</span>.<span class="fl">3.3</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="dv">167</span><span class="sc">:</span>               r<span class="sc">-</span>cran<span class="sc">-</span>zoo <span class="dv">3</span>.<span class="fl">3.3</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>Now we are down to 167 packages.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> all[, cran<span class="sc">:</span><span class="er">=</span><span class="fu">grepl</span>(<span class="st">&quot;^r-cran&quot;</span>, package) ]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> all[, bioc<span class="sc">:</span><span class="er">=</span><span class="fu">grepl</span>(<span class="st">&quot;^r-bioc&quot;</span>, package) ]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> all[bioc<span class="sc">==</span><span class="cn">TRUE</span> <span class="sc">&amp;</span> oldVersion<span class="sc">==</span><span class="cn">TRUE</span>,]                <span class="co"># 17 BioC</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                  package          version oldVersion  skip isCompiled  cran bioc</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span><span class="sc">:</span>           r<span class="sc">-</span>bioc<span class="sc">-</span>affy <span class="dv">3</span>.<span class="dv">3</span>.<span class="fl">1.20161024</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span><span class="sc">:</span>         r<span class="sc">-</span>bioc<span class="sc">-</span>affyio <span class="dv">3</span>.<span class="dv">3</span>.<span class="fl">1.20161024</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span><span class="sc">:</span>        r<span class="sc">-</span>bioc<span class="sc">-</span>biobase <span class="dv">3</span>.<span class="dv">3</span>.<span class="fl">1.20161024</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span><span class="sc">:</span>     r<span class="sc">-</span>bioc<span class="sc">-</span>biovizbase          <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span><span class="sc">:</span>         r<span class="sc">-</span>bioc<span class="sc">-</span>deseq2          <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span><span class="sc">:</span>        r<span class="sc">-</span>bioc<span class="sc">-</span>dnacopy <span class="dv">3</span>.<span class="dv">3</span>.<span class="fl">1.20161024</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span><span class="sc">:</span>          r<span class="sc">-</span>bioc<span class="sc">-</span>edger          <span class="dv">3</span>.<span class="fl">3.0</span><span class="dv">-2</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span><span class="sc">:</span>     r<span class="sc">-</span>bioc<span class="sc">-</span>genefilter          <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span><span class="sc">:</span>          r<span class="sc">-</span>bioc<span class="sc">-</span>graph <span class="dv">3</span>.<span class="dv">3</span>.<span class="fl">1.20161024</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span><span class="sc">:</span>     r<span class="sc">-</span>bioc<span class="sc">-</span>hilbertvis <span class="dv">3</span>.<span class="dv">3</span>.<span class="fl">1.20161024</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span><span class="sc">:</span>          r<span class="sc">-</span>bioc<span class="sc">-</span>limma          <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span><span class="sc">:</span>     r<span class="sc">-</span>bioc<span class="sc">-</span>makecdfenv <span class="dv">3</span>.<span class="dv">3</span>.<span class="fl">1.20161024</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span><span class="sc">:</span>       r<span class="sc">-</span>bioc<span class="sc">-</span>multtest <span class="dv">3</span>.<span class="dv">3</span>.<span class="fl">1.20161024</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span><span class="sc">:</span> r<span class="sc">-</span>bioc<span class="sc">-</span>preprocesscore <span class="dv">3</span>.<span class="dv">3</span>.<span class="fl">1.20161024</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span><span class="sc">:</span>           r<span class="sc">-</span>bioc<span class="sc">-</span>rbgl          <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span><span class="sc">:</span>    r<span class="sc">-</span>bioc<span class="sc">-</span>rtracklayer          <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span><span class="sc">:</span>       r<span class="sc">-</span>bioc<span class="sc">-</span>snpstats <span class="dv">3</span>.<span class="dv">3</span>.<span class="fl">1.20161024</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">TRUE</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>Among these are 17 BioConductor packages. This is a superset as we do not know which of these use only <code>.Call()</code> meaning that no rebuild would be required.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> all[bioc<span class="sc">!=</span><span class="cn">TRUE</span> <span class="sc">&amp;</span> cran<span class="sc">!=</span><span class="cn">TRUE</span> <span class="sc">&amp;</span> oldVersion<span class="sc">==</span><span class="cn">TRUE</span>,]   <span class="co"># 3 other</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>                    package version oldVersion  skip isCompiled  cran  bioc</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span>       r<span class="sc">-</span>other<span class="sc">-</span>amsmercury <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">:</span>          r<span class="sc">-</span>other<span class="sc">-</span>iwrlars <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">:</span> r<span class="sc">-</span>other<span class="sc">-</span>mott<span class="sc">-</span>happy.hbrem <span class="dv">3</span>.<span class="fl">0.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span> <span class="cn">FALSE</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>There are also three which are neither BioC nor CRAN.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> cand <span class="ot">&lt;-</span> all[ cran<span class="sc">==</span><span class="cn">TRUE</span> <span class="sc">&amp;</span> oldVersion<span class="sc">==</span><span class="cn">TRUE</span>, ]   <span class="co"># 147</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> cand</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>             package version oldVersion  skip isCompiled cran  bioc</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>ade4 <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span><span class="sc">:</span> r<span class="sc">-</span>cran<span class="sc">-</span>adegenet <span class="dv">3</span>.<span class="fl">3.1</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="dv">3</span><span class="sc">:</span> r<span class="sc">-</span>cran<span class="sc">-</span>adephylo <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="dv">4</span><span class="sc">:</span>   r<span class="sc">-</span>cran<span class="sc">-</span>amelia <span class="dv">3</span>.<span class="fl">2.3</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="dv">5</span><span class="sc">:</span>    r<span class="sc">-</span>cran<span class="sc">-</span>amore <span class="dv">3</span>.<span class="fl">1.0</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a> <span class="sc">---</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="dv">143</span><span class="sc">:</span>    r<span class="sc">-</span>cran<span class="sc">-</span>vegan <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="dv">144</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>vgam <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="dv">145</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>xml2 <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="dv">146</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>yaml <span class="dv">3</span>.<span class="fl">3.2</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="dv">147</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>zoo <span class="dv">3</span>.<span class="fl">3.3</span><span class="dv">-1</span>       <span class="cn">TRUE</span> <span class="cn">FALSE</span>       <span class="cn">TRUE</span> <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>We have 147 possible NMUs based off CRAN.</p>
<p>Next, we mix this with information from CRAN.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> db <span class="ot">&lt;-</span> tools<span class="sc">::</span><span class="fu">CRAN_package_db</span>()   <span class="co"># CRAN pkge info: N rows x 65 cols</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">setDT</span>(db)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> db[, package<span class="sc">:</span><span class="er">=</span><span class="fu">paste0</span>(<span class="st">&quot;r-cran-&quot;</span>, <span class="fu">tolower</span>(Package))]</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">setkey</span>(db, package)              <span class="co"># key on package field</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> foo <span class="ot">&lt;-</span> db[ cand ]                <span class="co"># inner join</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> foo[, .(package, Package, Version, NeedsCompilation, oldVersion, skip)]</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>             package  Package Version NeedsCompilation oldVersion  skip</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>ade4     ade4   <span class="fl">1.7</span><span class="dv">-6</span>              yes       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span><span class="sc">:</span> r<span class="sc">-</span>cran<span class="sc">-</span>adegenet adegenet   <span class="dv">2</span>.<span class="fl">0.1</span>              yes       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="dv">3</span><span class="sc">:</span> r<span class="sc">-</span>cran<span class="sc">-</span>adephylo adephylo  <span class="fl">1.1</span><span class="dv">-10</span>              yes       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="dv">4</span><span class="sc">:</span>   r<span class="sc">-</span>cran<span class="sc">-</span>amelia   Amelia   <span class="dv">1</span>.<span class="fl">7.4</span>              yes       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="dv">5</span><span class="sc">:</span>    r<span class="sc">-</span>cran<span class="sc">-</span>amore    AMORE  <span class="fl">0.2</span><span class="dv">-15</span>              yes       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a> <span class="sc">---</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="dv">143</span><span class="sc">:</span>    r<span class="sc">-</span>cran<span class="sc">-</span>vegan    vegan   <span class="fl">2.4</span><span class="dv">-3</span>              yes       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="dv">144</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>vgam     VGAM   <span class="fl">1.0</span><span class="dv">-3</span>              yes       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="dv">145</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>xml2     xml2   <span class="dv">1</span>.<span class="fl">1.1</span>              yes       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="dv">146</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>yaml     yaml  <span class="dv">2</span>.<span class="fl">1.14</span>              yes       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="dv">147</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>zoo      zoo   <span class="fl">1.8</span><span class="dv">-0</span>              yes       <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>This is our set of 147 candidate packages with their CRAN name, Debian name and upstream version.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">saveRDS</span>(foo[, .(package, Package, Version, NeedsCompilation, oldVersion, skip)], <span class="at">file=</span><span class="st">&quot;debpackages.rds&quot;</span>)</span></code></pre></div>
<p>We save this file to be used on another machine.</p>
<h2 id="step-2-grep">Step 2: Grep</h2>
<p>On another machine with access to all CRAN package sources (which I happen to have access to), we use the list of 147 candidate packages and run a recursive grep for each. We store the output from two <code>egrep</code> runs, called via <code>system()</code>, directly in the same data structure. The first checks for <code>.C()</code> or <code>.Fortran()</code> calls in the R scripts; the second checks for <code>R_registerRoutines()</code> in the compiled C code (with thanks again to Kurt Hornik for the suggestion)</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>deb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;~/debpackages.rds&quot;</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(deb)) {</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    deb[i, <span class="st">&quot;dotCorFortran&quot;</span>] <span class="ot">&lt;-</span> <span class="cf">if</span> (<span class="fu">is.na</span>(deb[i, <span class="st">&quot;Package&quot;</span>])) <span class="cn">NA</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>                               <span class="cf">else</span> <span class="fu">system</span>(<span class="fu">paste0</span>(<span class="st">&quot;egrep -r -q </span><span class="sc">\&quot;\\</span><span class="st">.(C|Fortran)</span><span class="sc">\\</span><span class="st">(</span><span class="sc">\&quot;</span><span class="st"> &quot;</span>, deb[i, <span class="st">&quot;Package&quot;</span>], <span class="st">&quot;/R/*&quot;</span>))<span class="sc">==</span><span class="dv">0</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    deb[i, <span class="st">&quot;hasRegistration&quot;</span>] <span class="ot">&lt;-</span> <span class="cf">if</span> (<span class="fu">is.na</span>(deb[i, <span class="st">&quot;Package&quot;</span>])) <span class="cn">NA</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>                               <span class="cf">else</span> <span class="fu">system</span>(<span class="fu">paste0</span>(<span class="st">&quot;egrep -r -q </span><span class="sc">\&quot;</span><span class="st">R_registerRoutines</span><span class="sc">\\</span><span class="st">(</span><span class="sc">\&quot;</span><span class="st"> &quot;</span>, deb[i, <span class="st">&quot;Package&quot;</span>], <span class="st">&quot;/src/*&quot;</span>))<span class="sc">==</span><span class="dv">0</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(deb, <span class="st">&quot;~/debpackagesout.rds&quot;</span>)</span></code></pre></div>
<h2 id="step-3-finalize">Step 3: Finalize</h2>
<p>We read the data back in and subset on those for which the recursive grep found actual uses of <code>.C()</code> or <code>.Fortran()</code>. The list contains 72 packages.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> deb <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;debpackagesout.rds&quot;</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">setDT</span>(deb)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> deb[ <span class="fu">is.na</span>(dotCorFortran) <span class="sc">|</span>(dotCorFortran <span class="sc">&amp;</span> hasRegistration), <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>                     package           Package  Version</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>ade4              ade4    <span class="fl">1.7</span><span class="dv">-6</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span><span class="sc">:</span>            r<span class="sc">-</span>cran<span class="sc">-</span>bayesm            bayesm  <span class="fl">3.1-0.1</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>blockmodeling     blockmodeling    <span class="dv">0</span>.<span class="fl">1.9</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>brglm             brglm    <span class="dv">0</span>.<span class="fl">6.1</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>caret             caret   <span class="fl">6.0</span><span class="dv">-76</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>coin              coin    <span class="fl">1.2</span><span class="dv">-1</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span><span class="sc">:</span>          r<span class="sc">-</span>cran<span class="sc">-</span>contfrac          contfrac   <span class="fl">1.1</span><span class="dv">-11</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span><span class="sc">:</span>        r<span class="sc">-</span>cran<span class="sc">-</span>data.table        data.table   <span class="dv">1</span>.<span class="fl">10.4</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span><span class="sc">:</span>            r<span class="sc">-</span>cran<span class="sc">-</span>deldir            deldir   <span class="fl">0.1</span><span class="dv">-14</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span><span class="sc">:</span>           r<span class="sc">-</span>cran<span class="sc">-</span>desolve           deSolve     <span class="fl">1.20</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span><span class="sc">:</span>               r<span class="sc">-</span>cran<span class="sc">-</span>eco               eco    <span class="fl">4.0</span><span class="dv">-1</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>expm              expm  <span class="fl">0.999</span><span class="dv">-2</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span><span class="sc">:</span>            r<span class="sc">-</span>cran<span class="sc">-</span>fields            fields      <span class="fl">9.0</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span><span class="sc">:</span>               r<span class="sc">-</span>cran<span class="sc">-</span>gam               gam   <span class="fl">1.14</span><span class="dv">-4</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span><span class="sc">:</span>            r<span class="sc">-</span>cran<span class="sc">-</span>glmnet            glmnet   <span class="fl">2.0</span><span class="dv">-10</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span><span class="sc">:</span>           r<span class="sc">-</span>cran<span class="sc">-</span>goftest           goftest    <span class="fl">1.1</span><span class="dv">-1</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>hdf5                <span class="cn">NA</span>       <span class="cn">NA</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span><span class="sc">:</span>            r<span class="sc">-</span>cran<span class="sc">-</span>igraph            igraph    <span class="dv">1</span>.<span class="fl">1.2</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span><span class="sc">:</span>           r<span class="sc">-</span>cran<span class="sc">-</span>mapproj           mapproj    <span class="fl">1.2</span><span class="dv">-5</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>maps              maps    <span class="dv">3</span>.<span class="fl">2.0</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span><span class="sc">:</span>          r<span class="sc">-</span>cran<span class="sc">-</span>maptools          maptools    <span class="fl">0.9</span><span class="dv">-2</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>mcmc              mcmc    <span class="fl">0.9</span><span class="dv">-5</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span><span class="sc">:</span>          r<span class="sc">-</span>cran<span class="sc">-</span>mcmcpack          MCMCpack    <span class="fl">1.4</span><span class="dv">-0</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>medadherence                <span class="cn">NA</span>       <span class="cn">NA</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span><span class="sc">:</span>          r<span class="sc">-</span>cran<span class="sc">-</span>mixtools          mixtools    <span class="dv">1</span>.<span class="fl">1.0</span></span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span><span class="sc">:</span>               r<span class="sc">-</span>cran<span class="sc">-</span>mnp               MNP    <span class="fl">3.0</span><span class="dv">-2</span></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>ncdf4             ncdf4     <span class="fl">1.16</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span><span class="sc">:</span>          r<span class="sc">-</span>cran<span class="sc">-</span>phangorn          phangorn    <span class="dv">2</span>.<span class="fl">2.0</span></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span><span class="sc">:</span>         r<span class="sc">-</span>cran<span class="sc">-</span>phylobase         phylobase    <span class="dv">0</span>.<span class="fl">8.4</span></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span><span class="sc">:</span>               r<span class="sc">-</span>cran<span class="sc">-</span>qtl               qtl   <span class="fl">1.41</span><span class="dv">-6</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>randomfields      RandomFields   <span class="dv">3</span>.<span class="fl">1.50</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a><span class="dv">32</span><span class="sc">:</span> r<span class="sc">-</span>cran<span class="sc">-</span>randomfieldsutils RandomFieldsUtils   <span class="dv">0</span>.<span class="fl">3.25</span></span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a><span class="dv">33</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>rcurl             RCurl <span class="fl">1.95-4.8</span></span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a><span class="dv">34</span><span class="sc">:</span>         r<span class="sc">-</span>cran<span class="sc">-</span>rniftilib                <span class="cn">NA</span>       <span class="cn">NA</span></span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a><span class="dv">35</span><span class="sc">:</span>                r<span class="sc">-</span>cran<span class="sc">-</span>sp                sp    <span class="fl">1.2</span><span class="dv">-5</span></span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a><span class="dv">36</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>spam              spam    <span class="fl">2.1</span><span class="dv">-1</span></span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a><span class="dv">37</span><span class="sc">:</span>          r<span class="sc">-</span>cran<span class="sc">-</span>spatstat          spatstat   <span class="fl">1.51</span><span class="dv">-0</span></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a><span class="dv">38</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>spdep             spdep   <span class="fl">0.6</span><span class="dv">-13</span></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a><span class="dv">39</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>surveillance      surveillance   <span class="dv">1</span>.<span class="fl">14.0</span></span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a><span class="dv">40</span><span class="sc">:</span>         r<span class="sc">-</span>cran<span class="sc">-</span>treescape                <span class="cn">NA</span>       <span class="cn">NA</span></span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a><span class="dv">41</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>vegan             vegan    <span class="fl">2.4</span><span class="dv">-3</span></span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a><span class="dv">42</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>vgam              VGAM    <span class="fl">1.0</span><span class="dv">-4</span></span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>                     package           Package  Version</span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>Similarly, the 17 BioC and 3 other packages can be tested via recursive greps (not shown) in a directory filled with <code>apt-get source</code> downloads:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>pkgs <span class="ot">&lt;-</span> <span class="fu">rbind</span>(all[bioc<span class="sc">!=</span><span class="cn">TRUE</span> <span class="sc">&amp;</span> cran<span class="sc">!=</span><span class="cn">TRUE</span> <span class="sc">&amp;</span> oldVersion<span class="sc">==</span><span class="cn">TRUE</span>, <span class="dv">1</span>],</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>              all[bioc<span class="sc">==</span><span class="cn">TRUE</span> <span class="sc">&amp;</span> oldVersion<span class="sc">==</span><span class="cn">TRUE</span>, <span class="dv">1</span>])[[<span class="dv">1</span>]]</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&quot;/tmp/scratch&quot;</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;/tmp/scratch&quot;</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;deb-src http://deb.debian.org/debian unstable main</span><span class="sc">\n</span><span class="st">&quot;</span>,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">file=</span><span class="st">&quot;/etc/apt/sources.list&quot;</span>, <span class="at">append=</span><span class="cn">TRUE</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="fu">system</span>(<span class="st">&quot;apt-get update&quot;</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (p <span class="cf">in</span> pkgs) <span class="fu">system</span>(<span class="fu">paste</span>(<span class="st">&quot;apt-get source&quot;</span>, p))</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">package=</span>pkgs, <span class="at">stringsAsFactors=</span><span class="cn">FALSE</span>)</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(df)) {</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    p <span class="ot">&lt;-</span> df[i, <span class="dv">1</span>]</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    df[i, <span class="st">&quot;dotCorFortran&quot;</span>] <span class="ot">&lt;-</span> <span class="fu">system</span>(<span class="fu">paste0</span>(<span class="st">&quot;egrep -r -q </span><span class="sc">\&quot;\\</span><span class="st">.(C|Fortran)</span><span class="sc">\\</span><span class="st">(</span><span class="sc">\&quot;</span><span class="st"> &quot;</span>, p, <span class="st">&quot;*/R/*&quot;</span>))<span class="sc">==</span><span class="dv">0</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    df[i, <span class="st">&quot;hasRegistration&quot;</span>] <span class="ot">&lt;-</span> <span class="fu">system</span>(<span class="fu">paste0</span>(<span class="st">&quot;egrep -r -q </span><span class="sc">\&quot;</span><span class="st">R_registerRoutines</span><span class="sc">\\</span><span class="st">(</span><span class="sc">\&quot;</span><span class="st"> &quot;</span>, p, <span class="st">&quot;*/src/*&quot;</span>))<span class="sc">==</span><span class="dv">0</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="fu">setDT</span>(df)</span></code></pre></div>
<p>This leads to a further four packages:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> df[dotCorFortran <span class="sc">&amp;</span> hasRegistration, <span class="dv">1</span>]</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>                     pkg</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span>           r<span class="sc">-</span>bioc<span class="sc">-</span>affy</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">:</span>          r<span class="sc">-</span>bioc<span class="sc">-</span>edger</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">:</span>     r<span class="sc">-</span>bioc<span class="sc">-</span>genefilter</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span><span class="sc">:</span> r<span class="sc">-</span>bioc<span class="sc">-</span>preprocesscore</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>These 42, along with the 4 (from the initally 17 BioC and 3 ‘other’) packages are our target set.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> nmu <span class="ot">&lt;-</span> deb[ <span class="fu">is.na</span>(dotCorFortran) <span class="sc">|</span> (dotCorFortran <span class="sc">&amp;</span> hasRegistration), <span class="dv">1</span>] <span class="co">#42</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> oth <span class="ot">&lt;-</span> df[dotCorFortran <span class="sc">&amp;</span> hasRegistration, <span class="dv">1</span>]</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> nmu <span class="ot">&lt;-</span> <span class="fu">rbind</span>(nmu, oth)  <span class="do">## 46</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> nmu</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>                     package</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>ade4</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span><span class="sc">:</span>            r<span class="sc">-</span>cran<span class="sc">-</span>bayesm</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span><span class="sc">:</span>     r<span class="sc">-</span>cran<span class="sc">-</span>blockmodeling</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>brglm</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>caret</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>coin</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span><span class="sc">:</span>          r<span class="sc">-</span>cran<span class="sc">-</span>contfrac</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span><span class="sc">:</span>        r<span class="sc">-</span>cran<span class="sc">-</span>data.table</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span><span class="sc">:</span>            r<span class="sc">-</span>cran<span class="sc">-</span>deldir</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span><span class="sc">:</span>           r<span class="sc">-</span>cran<span class="sc">-</span>desolve</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span><span class="sc">:</span>               r<span class="sc">-</span>cran<span class="sc">-</span>eco</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>expm</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span><span class="sc">:</span>            r<span class="sc">-</span>cran<span class="sc">-</span>fields</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span><span class="sc">:</span>               r<span class="sc">-</span>cran<span class="sc">-</span>gam</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span><span class="sc">:</span>            r<span class="sc">-</span>cran<span class="sc">-</span>glmnet</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span><span class="sc">:</span>           r<span class="sc">-</span>cran<span class="sc">-</span>goftest</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>hdf5</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span><span class="sc">:</span>            r<span class="sc">-</span>cran<span class="sc">-</span>igraph</span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span><span class="sc">:</span>           r<span class="sc">-</span>cran<span class="sc">-</span>mapproj</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>maps</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span><span class="sc">:</span>          r<span class="sc">-</span>cran<span class="sc">-</span>maptools</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>mcmc</span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span><span class="sc">:</span>          r<span class="sc">-</span>cran<span class="sc">-</span>mcmcpack</span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>medadherence</span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span><span class="sc">:</span>          r<span class="sc">-</span>cran<span class="sc">-</span>mixtools</span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span><span class="sc">:</span>               r<span class="sc">-</span>cran<span class="sc">-</span>mnp</span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>ncdf4</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span><span class="sc">:</span>          r<span class="sc">-</span>cran<span class="sc">-</span>phangorn</span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span><span class="sc">:</span>         r<span class="sc">-</span>cran<span class="sc">-</span>phylobase</span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span><span class="sc">:</span>               r<span class="sc">-</span>cran<span class="sc">-</span>qtl</span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>randomfields</span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a><span class="dv">32</span><span class="sc">:</span> r<span class="sc">-</span>cran<span class="sc">-</span>randomfieldsutils</span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a><span class="dv">33</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>rcurl</span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a><span class="dv">34</span><span class="sc">:</span>         r<span class="sc">-</span>cran<span class="sc">-</span>rniftilib</span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a><span class="dv">35</span><span class="sc">:</span>                r<span class="sc">-</span>cran<span class="sc">-</span>sp</span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a><span class="dv">36</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>spam</span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a><span class="dv">37</span><span class="sc">:</span>          r<span class="sc">-</span>cran<span class="sc">-</span>spatstat</span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a><span class="dv">38</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>spdep</span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a><span class="dv">39</span><span class="sc">:</span>      r<span class="sc">-</span>cran<span class="sc">-</span>surveillance</span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a><span class="dv">40</span><span class="sc">:</span>         r<span class="sc">-</span>cran<span class="sc">-</span>treescape</span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a><span class="dv">41</span><span class="sc">:</span>             r<span class="sc">-</span>cran<span class="sc">-</span>vegan</span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a><span class="dv">42</span><span class="sc">:</span>              r<span class="sc">-</span>cran<span class="sc">-</span>vgam</span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a><span class="dv">43</span><span class="sc">:</span>              r<span class="sc">-</span>bioc<span class="sc">-</span>affy</span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a><span class="dv">44</span><span class="sc">:</span>             r<span class="sc">-</span>bioc<span class="sc">-</span>edger</span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a><span class="dv">45</span><span class="sc">:</span>        r<span class="sc">-</span>bioc<span class="sc">-</span>genefilter</span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a><span class="dv">46</span><span class="sc">:</span>    r<span class="sc">-</span>bioc<span class="sc">-</span>preprocesscore</span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a>                     package</span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span></span></code></pre></div>
<p>We need to retrieve the version number in Debian unstable of these packages by once agaim relying of a function from <a href="https://github.com/eddelbuettel/rcppapt"><code>RcppAPT</code></a></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> regexp <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">paste0</span>(<span class="st">&quot;^&quot;</span>, nmu[[<span class="dv">1</span>]], <span class="st">&quot;$&quot;</span>), <span class="at">collapse=</span><span class="st">&quot;|&quot;</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> res <span class="ot">&lt;-</span> <span class="fu">getPackages</span>(regexp)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> res</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>                    Package         Version</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>              r<span class="sc">-</span>bioc<span class="sc">-</span>edger   <span class="dv">3</span>.<span class="fl">14.0</span><span class="sc">+</span>dfsg<span class="dv">-1</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>               r<span class="sc">-</span>cran<span class="sc">-</span>coin         <span class="fl">1.1</span><span class="dv">-3-1</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>                r<span class="sc">-</span>cran<span class="sc">-</span>mnp         <span class="fl">2.6</span><span class="dv">-4-1</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>             r<span class="sc">-</span>cran<span class="sc">-</span>fields          <span class="fl">8.10</span><span class="dv">-1</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>            r<span class="sc">-</span>cran<span class="sc">-</span>desolve          <span class="fl">1.14</span><span class="dv">-1</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>             r<span class="sc">-</span>cran<span class="sc">-</span>deldir        <span class="fl">0.1</span><span class="dv">-12-1</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>          r<span class="sc">-</span>cran<span class="sc">-</span>rniftilib    <span class="fl">0.0-35.</span>r79<span class="dv">-2</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>         r<span class="sc">-</span>cran<span class="sc">-</span>data.table        <span class="dv">1</span>.<span class="fl">10.0</span><span class="dv">-1</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>                r<span class="sc">-</span>cran<span class="sc">-</span>qtl        <span class="fl">1.40</span><span class="dv">-8-1</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>    r<span class="sc">-</span>bioc<span class="sc">-</span>preprocesscore        <span class="dv">1</span>.<span class="fl">36.0</span><span class="dv">-1</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span>          r<span class="sc">-</span>cran<span class="sc">-</span>contfrac        <span class="fl">1.1</span><span class="dv">-10-1</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span>            r<span class="sc">-</span>cran<span class="sc">-</span>glmnet         <span class="fl">2.0</span><span class="dv">-5-1</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span>                r<span class="sc">-</span>cran<span class="sc">-</span>sp       <span class="dv">1</span><span class="sc">:</span><span class="fl">1.2</span><span class="dv">-4-1</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span>             r<span class="sc">-</span>cran<span class="sc">-</span>brglm         <span class="fl">0.5</span><span class="dv">-9-1</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span>              r<span class="sc">-</span>bioc<span class="sc">-</span>affy        <span class="dv">1</span>.<span class="fl">52.0</span><span class="dv">-1</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span>             r<span class="sc">-</span>cran<span class="sc">-</span>ncdf4       <span class="fl">1.15</span><span class="dv">-1</span><span class="sc">+</span>b2</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span>         r<span class="sc">-</span>cran<span class="sc">-</span>treescape       <span class="dv">1</span>.<span class="fl">10.18</span><span class="dv">-6</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span>           r<span class="sc">-</span>cran<span class="sc">-</span>mapproj         <span class="fl">1.2</span><span class="dv">-4-1</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span>     r<span class="sc">-</span>cran<span class="sc">-</span>blockmodeling         <span class="dv">0</span>.<span class="fl">1.8</span><span class="dv">-1</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span>              r<span class="sc">-</span>cran<span class="sc">-</span>hdf5     <span class="dv">1</span>.<span class="fl">6.10</span><span class="dv">-4</span><span class="sc">+</span>b1</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span>              r<span class="sc">-</span>cran<span class="sc">-</span>ade4         <span class="fl">1.7</span><span class="dv">-5-1</span></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span>              r<span class="sc">-</span>cran<span class="sc">-</span>vgam         <span class="fl">1.0</span><span class="dv">-3-1</span></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span>          r<span class="sc">-</span>cran<span class="sc">-</span>mixtools         <span class="dv">1</span>.<span class="fl">0.4</span><span class="dv">-1</span></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span>         r<span class="sc">-</span>cran<span class="sc">-</span>phylobase         <span class="dv">0</span>.<span class="fl">8.2</span><span class="dv">-1</span></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span>              r<span class="sc">-</span>cran<span class="sc">-</span>spam         <span class="fl">1.4</span><span class="dv">-0-1</span></span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span>      r<span class="sc">-</span>cran<span class="sc">-</span>medadherence          <span class="fl">1.03</span><span class="dv">-2</span></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span>      r<span class="sc">-</span>cran<span class="sc">-</span>surveillance        <span class="dv">1</span>.<span class="fl">13.0</span><span class="dv">-1</span></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> r<span class="sc">-</span>cran<span class="sc">-</span>randomfieldsutils        <span class="dv">0</span>.<span class="fl">3.15</span><span class="dv">-1</span></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span>             r<span class="sc">-</span>cran<span class="sc">-</span>rcurl      <span class="fl">1.95-4.8</span><span class="dv">-2</span></span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span>          r<span class="sc">-</span>cran<span class="sc">-</span>mcmcpack         <span class="fl">1.3</span><span class="dv">-8-1</span></span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span>          r<span class="sc">-</span>cran<span class="sc">-</span>spatstat        <span class="fl">1.48</span><span class="dv">-0-1</span></span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a><span class="dv">32</span>             r<span class="sc">-</span>cran<span class="sc">-</span>vegan         <span class="fl">2.4</span><span class="dv">-2-1</span></span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a><span class="dv">33</span>            r<span class="sc">-</span>cran<span class="sc">-</span>bayesm         <span class="fl">3.0</span><span class="dv">-2-2</span></span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a><span class="dv">34</span>              r<span class="sc">-</span>cran<span class="sc">-</span>expm       <span class="fl">0.999</span><span class="dv">-0-1</span></span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a><span class="dv">35</span>          r<span class="sc">-</span>cran<span class="sc">-</span>phangorn         <span class="dv">2</span>.<span class="fl">1.1</span><span class="dv">-1</span></span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a><span class="dv">36</span>          r<span class="sc">-</span>cran<span class="sc">-</span>maptools <span class="dv">1</span><span class="sc">:</span><span class="fl">0.8</span><span class="dv">-41</span><span class="sc">+</span>dfsg<span class="dv">-1</span></span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a><span class="dv">37</span>             r<span class="sc">-</span>cran<span class="sc">-</span>caret  <span class="fl">6.0</span><span class="dv">-73</span><span class="sc">+</span>dfsg1<span class="dv">-1</span></span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a><span class="dv">38</span>           r<span class="sc">-</span>cran<span class="sc">-</span>goftest         <span class="fl">1.0</span><span class="dv">-3-1</span></span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a><span class="dv">39</span>            r<span class="sc">-</span>cran<span class="sc">-</span>igraph         <span class="dv">1</span>.<span class="fl">0.1</span><span class="dv">-1</span></span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a><span class="dv">40</span>              r<span class="sc">-</span>cran<span class="sc">-</span>maps         <span class="dv">3</span>.<span class="fl">1.1</span><span class="dv">-1</span></span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a><span class="dv">41</span>               r<span class="sc">-</span>cran<span class="sc">-</span>eco         <span class="fl">3.1</span><span class="dv">-7-1</span></span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a><span class="dv">42</span>      r<span class="sc">-</span>cran<span class="sc">-</span>randomfields        <span class="dv">3</span>.<span class="fl">1.36</span><span class="dv">-1</span></span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a><span class="dv">43</span>        r<span class="sc">-</span>bioc<span class="sc">-</span>genefilter        <span class="dv">1</span>.<span class="fl">56.0</span><span class="dv">-1</span></span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a><span class="dv">44</span>              r<span class="sc">-</span>cran<span class="sc">-</span>mcmc         <span class="fl">0.9</span><span class="dv">-4-2</span></span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a><span class="dv">45</span>             r<span class="sc">-</span>cran<span class="sc">-</span>spdep         <span class="fl">0.6</span><span class="dv">-9-1</span></span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a><span class="dv">46</span>               r<span class="sc">-</span>cran<span class="sc">-</span>gam          <span class="fl">1.14</span><span class="dv">-1</span></span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<p>With this, we can write out the content of the NMU request:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="er">&gt;</span> <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(res))</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>     <span class="fu">cat</span>(<span class="st">&quot;nmu&quot;</span>, <span class="fu">paste</span>(res[i,], <span class="at">collapse=</span><span class="st">&quot;_&quot;</span>), <span class="st">&quot;. ANY . -m &#39;Rebuild against R 3.4.*, see #861333&#39;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>bioc<span class="sc">-</span>edger_3.<span class="fl">14.0</span><span class="sc">+</span>dfsg<span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>coin_1<span class="fl">.1</span><span class="dv">-3-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>mnp_2<span class="fl">.6</span><span class="dv">-4-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>fields_8<span class="fl">.10</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>desolve_1<span class="fl">.14</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>deldir_0<span class="fl">.1</span><span class="dv">-12-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>rniftilib_0<span class="fl">.0-35.</span>r79<span class="dv">-2</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>data.table_1.<span class="fl">10.0</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>qtl_1<span class="fl">.40</span><span class="dv">-8-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>bioc<span class="sc">-</span>preprocesscore_1.<span class="fl">36.0</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>contfrac_1<span class="fl">.1</span><span class="dv">-10-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>glmnet_2<span class="fl">.0</span><span class="dv">-5-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>sp_1<span class="sc">:</span><span class="fl">1.2</span><span class="dv">-4-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>brglm_0<span class="fl">.5</span><span class="dv">-9-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>bioc<span class="sc">-</span>affy_1.<span class="fl">52.0</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>ncdf4_1<span class="fl">.15</span><span class="dv">-1</span><span class="sc">+</span>b2 . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>treescape_1.<span class="fl">10.18</span><span class="dv">-6</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>mapproj_1<span class="fl">.2</span><span class="dv">-4-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>blockmodeling_0.<span class="fl">1.8</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>hdf5_1.<span class="fl">6.10</span><span class="dv">-4</span><span class="sc">+</span>b1 . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>ade4_1<span class="fl">.7</span><span class="dv">-5-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>vgam_1<span class="fl">.0</span><span class="dv">-3-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>mixtools_1.<span class="fl">0.4</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>phylobase_0.<span class="fl">8.2</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>spam_1<span class="fl">.4</span><span class="dv">-0-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>medadherence_1<span class="fl">.03</span><span class="dv">-2</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>surveillance_1.<span class="fl">13.0</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>randomfieldsutils_0.<span class="fl">3.15</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>rcurl_1<span class="fl">.95-4.8</span><span class="dv">-2</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>mcmcpack_1<span class="fl">.3</span><span class="dv">-8-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>spatstat_1<span class="fl">.48</span><span class="dv">-0-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>vegan_2<span class="fl">.4</span><span class="dv">-2-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>bayesm_3<span class="fl">.0</span><span class="dv">-2-2</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>expm_0<span class="fl">.999</span><span class="dv">-0-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>phangorn_2.<span class="fl">1.1</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>maptools_1<span class="sc">:</span><span class="fl">0.8</span><span class="dv">-41</span><span class="sc">+</span>dfsg<span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>caret_6<span class="fl">.0</span><span class="dv">-73</span><span class="sc">+</span>dfsg1<span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>goftest_1<span class="fl">.0</span><span class="dv">-3-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>igraph_1.<span class="fl">0.1</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>maps_3.<span class="fl">1.1</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>eco_3<span class="fl">.1</span><span class="dv">-7-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>randomfields_3.<span class="fl">1.36</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>bioc<span class="sc">-</span>genefilter_1.<span class="fl">56.0</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>mcmc_0<span class="fl">.9</span><span class="dv">-4-2</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>spdep_0<span class="fl">.6</span><span class="dv">-9-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>nmu r<span class="sc">-</span>cran<span class="sc">-</span>gam_1<span class="fl">.14</span><span class="dv">-1</span> . ANY . <span class="sc">-</span>m <span class="st">&#39;Rebuild against R 3.4.*, see #861333&#39;</span></span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span></span></code></pre></div>
<h2 id="summary">Summary</h2>
<p>The final set of 46 NMUs is the minimal change required, and reasonable relative to the 516 reverse dependencies of R itself. We are able to narrow the set of packages requiring a rebuild down by a combining data from the R package system, the Debian package system and (some) package sources we were able to access on a CRAN-related server.</p>
<h3 id="acknowledgements">Acknowledgements</h3>
<p>Thanks for Kurt Hornik for pointing out the additional check for <code>R_registerRoutine</code> in the in C code, leading to a further reduction from 90+ packages to 46.</p>
<h3 id="history">History</h3>
<p>The first published version (Julyu 2017) did not check for <code>R_registerRoutines</code>. The second version (August 2017) does, leading to 46 suggested NMUs.</p>
<h3 id="see-also">See Also</h3>
<p>The <a href="https://github.com/eddelbuettel/rcppapt/blob/master/vignettes/binnmuAfterR340.md">source file</a> is on GitHub as is the <a href="https://github.com/eddelbuettel/rcppapt/commits/master/vignettes/binnmuAfterR340.md">revision history</a>. The <a href="https://bugs.debian.org/868558">corresponding Debian bug report</a> is based on this analysis.</p>
</body>
</html>
